server {
    listen 80;
    server_name localhost;

    # Mock endpoint for credential validation
    location /internal/validate-credentials {
        add_header Content-Type application/json;
        return 200 '{
            "user_id": "123e4567-e89b-12d3-a456-426614174000",
            "username": "testuser",
            "email": "test@example.com",
            "scopes": ["read", "write"]
        }';
    }

    # Mock endpoint for user lookup
    location ~ /internal/users/(.+) {
        add_header Content-Type application/json;
        return 200 '{
            "user_id": "$1",
            "username": "testuser",
            "email": "test@example.com",
            "scopes": ["read", "write"],
            "active": true
        }';
    }

    # Health check
    location /health {
        add_header Content-Type application/json;
        return 200 '{"status": "healthy", "service": "mock-user-management"}';
    }
}